{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * Project: Helion-Hover.fit\n * Role: Core Frontend Logic 2026\n * Description: Smooth scroll, Split-text animations, Form validation, Cookie management.\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  // --- 1. Инициализация иконок (Lucide) ---\n  const initIcons = () => {\n      if (typeof lucide !== 'undefined') {\n          lucide.createIcons();\n      }\n  };\n  initIcons();\n\n  // --- 2. Плавный скролл (Lenis) ---\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  // --- 3. Шапка и мобильное меню ---\n  const header = document.querySelector('.header');\n  const burger = document.getElementById('burger-menu');\n  const nav = document.getElementById('nav-menu');\n  const navLinks = document.querySelectorAll('.nav__link');\n\n  // Смена фона шапки при скролле\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 50) {\n          header.style.padding = '12px 0';\n          header.style.background = 'rgba(10, 12, 16, 0.95)';\n      } else {\n          header.style.padding = '20px 0';\n          header.style.background = 'transparent';\n      }\n  });\n\n  // Бургер-меню\n  if (burger) {\n      burger.addEventListener('click', () => {\n          nav.classList.toggle('nav--active');\n          burger.classList.toggle('burger--active');\n          document.body.classList.toggle('no-scroll'); // Блокировка скролла при меню\n      });\n  }\n\n  // Закрытие меню при клике на ссылку\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          nav.classList.remove('nav--active');\n          burger.classList.remove('burger--active');\n          document.body.classList.remove('no-scroll');\n      });\n  });\n\n  // --- 4. Hero Анимация (GSAP + SplitType) ---\n  // Настроено так, чтобы слова не разрывались при переносе (words + chars)\n  const initHeroAnimation = () => {\n      const titleElement = document.getElementById('hero-title');\n\n      if (titleElement && typeof SplitType !== 'undefined' && typeof gsap !== 'undefined') {\n          // Разбиваем на слова и символы. Слова оборачиваются в .word (inline-block)\n          const split = new SplitType(titleElement, { types: 'words, chars' });\n\n          const tl = gsap.timeline({ delay: 0.5 });\n\n          tl.from('.hero__subtitle', {\n              opacity: 0,\n              x: -30,\n              duration: 0.8\n          })\n          .from(split.chars, {\n              opacity: 0,\n              y: 40,\n              rotateX: -90,\n              stagger: 0.03,\n              duration: 1,\n              ease: \"back.out(1.7)\"\n          }, \"-=0.4\")\n          .from('.hero__description', {\n              opacity: 0,\n              y: 20,\n              duration: 0.8\n          }, \"-=0.6\")\n          .from('.hero__btns', {\n              opacity: 0,\n              y: 20,\n              duration: 0.8\n          }, \"-=0.7\")\n          .from('.hero__visual', {\n              opacity: 0,\n              scale: 0.9,\n              duration: 1.2,\n              ease: \"expo.out\"\n          }, \"-=1\");\n      }\n  };\n  initHeroAnimation();\n\n  // --- 5. Контактная форма: Валидация и Капча ---\n  const contactForm = document.getElementById('contact-form');\n\n  if (contactForm) {\n      const phoneInput = document.getElementById('phone');\n      const captchaQuestion = document.getElementById('captcha-question');\n      const captchaAnswerInput = document.getElementById('captcha-answer');\n      const successMessage = document.getElementById('form-success');\n\n      let captchaValue;\n\n      // Генерация примера\n      const generateCaptcha = () => {\n          const a = Math.floor(Math.random() * 9) + 1;\n          const b = Math.floor(Math.random() * 9) + 1;\n          captchaValue = a + b;\n          if (captchaQuestion) captchaQuestion.innerText = `${a} + ${b} = ?`;\n      };\n      generateCaptcha();\n\n      // Ограничение ввода: только цифры для телефона\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/\\D/g, '');\n      });\n\n      // Отправка формы (имитация AJAX)\n      contactForm.addEventListener('submit', (e) => {\n          e.preventDefault();\n\n          // Проверка капчи\n          if (parseInt(captchaAnswerInput.value) !== captchaValue) {\n              alert('Неверный ответ на защитный пример. Попробуйте снова.');\n              generateCaptcha();\n              captchaAnswerInput.value = '';\n              return;\n          }\n\n          const submitBtn = contactForm.querySelector('button[type=\"submit\"]');\n          submitBtn.disabled = true;\n          submitBtn.innerText = 'Отправка...';\n\n          // Имитация задержки сети\n          setTimeout(() => {\n              successMessage.style.display = 'flex';\n              contactForm.reset();\n              generateCaptcha();\n              initIcons(); // Переинициализация иконки в сообщении успеха\n          }, 1500);\n      });\n  }\n\n  // --- 6. Cookie Popup (LocalStorage) ---\n  const cookiePopup = document.getElementById('cookie-popup');\n  const acceptCookiesBtn = document.getElementById('accept-cookies');\n\n  if (cookiePopup && !localStorage.getItem('helion_cookies_accepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('cookie-popup--active');\n      }, 3000);\n  }\n\n  if (acceptCookiesBtn) {\n      acceptCookiesBtn.addEventListener('click', () => {\n          localStorage.setItem('helion_cookies_accepted', 'true');\n          cookiePopup.classList.remove('cookie-popup--active');\n      });\n  }\n});"],"names":["initIcons","lenis","t","raf","time","header","burger","nav","navLinks","link","titleElement","split","contactForm","phoneInput","captchaQuestion","captchaAnswerInput","successMessage","captchaValue","generateCaptcha","a","b","e","submitBtn","cookiePopup","acceptCookiesBtn"],"mappings":"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"}